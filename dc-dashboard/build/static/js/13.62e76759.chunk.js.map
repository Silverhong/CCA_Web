{"version":3,"sources":["Service.js","screens/post/Post.js"],"names":["serviceAPI","Post","props","fields","key","label","_style","width","postDelete","axios","delete","ServiceApi","state","id","then","setState","show","window","location","reload","catch","error","console","log","hideAlert","userId","localStorage","getItem","undefined","href","origin","posts","get","respone","data","to","className","items","this","tableFilter","itemsPerPageSelect","itemsPerPage","hover","sorter","pagination","scopedSlots","item","size","onClick","thumbnail","height","src","format","createdAt","updatedAt","warning","showCancel","confirmBtnText","confirmBtnBsStyle","cancelBtnBsStyle","title","onConfirm","onCancel","React","Component"],"mappings":"6KAEeA,IAFC,uB,gLCaVC,E,kDAEF,WAAYC,GAAO,IAAD,uBACd,cAAMA,IASVC,OAAS,CACL,CAAEC,IAAK,KAAMC,MAAO,KAAMC,OAAQ,CAAEC,MAAO,QAC3C,CAAEH,IAAK,QAASC,MAAO,eAAgBC,OAAQ,CAAEC,MAAO,QACxD,CAAEH,IAAK,UAAWC,MAAO,UAAWC,OAAQ,CAAEC,MAAO,QACrD,CAAEH,IAAK,YAAaC,MAAO,YAAaC,OAAQ,CAAEC,MAAO,QAEzD,CAAEH,IAAK,YAAaC,MAAO,cAAgBC,OAAQ,CAAEC,MAAO,OAE5D,CAAEH,IAAK,YAAaC,MAAO,cAAeC,OAAQ,CAAEC,MAAO,OAC3D,CAAEH,IAAK,SAAUE,OAAQ,CAAEC,MAAO,SAnBpB,EA8BlBC,WAAa,WACTC,IAAMC,OAAN,UAAgBC,IAAhB,wBAA0C,EAAKC,MAAMC,KAClDC,MAAK,WACF,EAAKC,SAAS,CAAEC,MAAM,IACtBC,OAAOC,SAASC,YAEnBC,OAAM,SAAUC,GACfC,QAAQC,IAAIF,OArCF,EAyClBG,UAAY,WACR,EAAKT,SAAS,CAAEC,MAAM,KAxCtB,IAAMS,EAASC,aAAaC,QAAQ,QAFtB,MAGD,IAAVF,QAA0BG,GAAVH,IAAqBR,OAAOC,SAASW,KAAhB,UAAyBZ,OAAOa,OAAhC,aACxC,EAAKlB,MAAQ,CACTC,GAAI,GACJkB,MAAO,GACPf,MAAM,GAPI,E,gEAsBE,IAAD,OAEfP,IAAMuB,IAAN,UAAarB,IAAb,iBAAuCG,MAAM,SAAAmB,GACzC,EAAKlB,SAAS,CAAEgB,MAAOE,EAAQC,KAAKA,OACpCZ,QAAQC,IAAI,EAAKX,MAAMmB,UACxBX,OAAO,SAAAC,GAAK,OAAKC,QAAQC,IAAIF,Q,+BAkB3B,IAAD,OACJ,OACI,eAAC,IAAD,WACI,cAAC,IAAD,UACI,cAAC,IAAD,CAASc,GAAG,eAAeC,UAAU,cAArC,qBAEJ,cAAC,IAAD,UACK,cAAC,IAAD,CACAC,MAAOC,KAAK1B,MAAMmB,MAClB5B,OAAQmC,KAAKnC,OACboC,aAAa,EACbC,oBAAkB,EAClBC,aAAc,EACdC,OAAK,EACLC,QAAM,EACNC,YAAU,EACVC,YAAe,CACZ,OACE,SAACC,GAAD,OACE,+BACI,cAAC,IAAD,CAASX,GAAE,qBAAgBW,EAAKjC,IAAMuB,UAAU,yBAAyBW,KAAK,KAA9E,kBAGA,cAAC,IAAD,CAASC,QAAU,kBAAM,EAAKjC,SAAS,CAAEC,MAAM,EAAMH,GAAIiC,EAAKjC,MAAOuB,UAAU,oBAAoBW,KAAK,KAAxG,wBAKR,UACE,SAACD,GAAD,OACE,6BACI,mBAAGjB,KAAI,UAAKlB,IAAL,oBAA2BmC,EAAKG,WAAvC,SAAoD,qBAAKb,UAAU,oBAAoB7B,MAAM,MAAM2C,OAAO,MAAMC,IAAG,sCAAiCL,EAAKG,kBAGjK,UACE,SAACH,GAAD,OACE,6BACI,cAAC,IAAD,CAAQM,OAAO,cAAf,SAA+BN,EAAKO,eAG5C,UACE,SAACP,GAAD,OACE,6BACI,cAAC,IAAD,CAAQM,OAAO,cAAf,SAA+BN,EAAKQ,oBAMxC,cAAC,IAAD,CACRtC,KAAMsB,KAAK1B,MAAMI,KACjBuC,SAAO,EACPC,YAAU,EACVC,eAAe,kBACfC,kBAAkB,SAClBC,iBAAiB,UACjBC,MAAM,gBACNC,UAAWvB,KAAK9B,WACnBsD,SAAUxB,KAAKd,mB,GAzGbuC,IAAMC,WAgHV/D","file":"static/js/13.62e76759.chunk.js","sourcesContent":["const serviceAPI = `http://localhost:81`;\n\nexport default serviceAPI","import React from 'react';\nimport axios from 'axios';\nimport SweetAlert from 'react-bootstrap-sweetalert';\nimport Moment from 'react-moment';\nimport ServiceApi from \"../../Service\";\nimport {\n    CButton,\n    CCard,\n    CCardBody,\n    CCardHeader,\n    CDataTable\n  } from '@coreui/react';\n\nclass Post extends React.Component {\n\n    constructor(props){\n        super(props);\n        const userId = localStorage.getItem('uuid');\n        if(userId == '' || userId == undefined) window.location.href =`${window.origin}/#/login`;\n        this.state = {\n            id: '',\n            posts: [],\n            show: false\n        }\n    }\n    fields = [\n        { key: 'id', label: 'ID', _style: { width: '10%' } },\n        { key: 'title', label: 'Product Name', _style: { width: '20%'} },\n        { key: 'barcode', label: 'Barcode', _style: { width: '10%'} },\n        { key: 'thumbnail', label: 'Thumbnail', _style: { width: '10%'} },\n        // { key: 'createdBy', label: 'Recorder', _style: { width: '10%'} },\n        { key: 'createdAt', label: 'Record Date',  _style: { width: '5%'} },\n        // { key: 'updatedBy', label: 'Modifier', _style: { width: '10%'} },\n        { key: 'updatedAt', label: 'Modify Date', _style: { width: '5%'} },\n        { key: 'action', _style: { width: '15%'} }\n    ];\n\n    componentDidMount(){\n        // Get Post All\n        axios.get(`${ServiceApi}/api/v1/post`).then( respone => {\n            this.setState({ posts: respone.data.data });\n            console.log(this.state.posts)\n        }).catch( error =>  console.log(error))\n    }\n\n    postDelete = () => {\n        axios.delete(`${ServiceApi}/api/v1/post/${this.state.id}`)\n          .then(() => {\n              this.setState({ show: false });\n              window.location.reload();\n          })\n          .catch(function (error) {\n            console.log(error);\n          }) \n    }\n\n    hideAlert = () => {\n        this.setState({ show: false });\n    }\n\n    render(){\n        return(\n            <CCard>\n                <CCardHeader>\n                    <CButton to=\"/post/create\" className=\"float-right\">+ New</CButton>\n                </CCardHeader>\n                <CCardBody>\n                     <CDataTable\n                     items={this.state.posts}\n                     fields={this.fields}\n                     tableFilter={true}\n                     itemsPerPageSelect\n                     itemsPerPage={5}\n                     hover\n                     sorter\n                     pagination\n                     scopedSlots = {{\n                        'action':\n                          (item)=>(\n                            <td>\n                                <CButton to={`/post/edit/${item.id}`} className=\"btn btn-secondary mr-2\" size='sm'>\n                                   Edit\n                                </CButton>\n                                <CButton onClick={ () => this.setState({ show: true, id: item.id })} className=\"btn btn-danger sm\" size='sm'>\n                                   Delete\n                                </CButton>\n                            </td>\n                        ),\n                        'thumbnail':\n                          (item)=>(\n                            <td>\n                                <a href={`${ServiceApi}/uploads/${item.thumbnail}`}><img className=\"img-fluid rounded\" width=\"60%\" height=\"60%\" src={`http://localhost:81/uploads/${item.thumbnail}`} /></a>\n                            </td>\n                        ),\n                        'createdAt':\n                          (item)=>(\n                            <td>\n                                <Moment format=\"YYYY/MMM/DD\">{ item.createdAt }</Moment>\n                            </td>\n                        ),\n                        'updatedAt':\n                          (item)=>(\n                            <td>\n                                <Moment format=\"YYYY/MMM/DD\">{ item.updatedAt }</Moment>\n                            </td>\n                        )\n                    }}\n                     >\n                     </CDataTable>\n                </CCardBody><SweetAlert\n                    show={this.state.show}\n                    warning\n                    showCancel\n                    confirmBtnText=\"Yes, delete it!\"\n                    confirmBtnBsStyle=\"danger\"\n                    cancelBtnBsStyle=\"default\"\n                    title=\"Are you sure?\"\n                    onConfirm={this.postDelete}\n\t                onCancel={this.hideAlert}\n                />\n            </CCard>\n        );\n    }\n}\n\nexport default Post;"],"sourceRoot":""}
(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[26],{740:function(e,t,c){"use strict";c.r(t);var a=c(159),n=c(160),s=c(162),i=c(161),o=c(20),r=c(1),l=c.n(r),h=c(622),d=c.n(h),j=(c(715),c(620)),u="http://localhost:81",m=function(e){Object(s.a)(c,e);var t=Object(i.a)(c);function c(e){var n;Object(a.a)(this,c),(n=t.call(this,e)).handleChange=function(e){n.setState(e)},n.handleCheckBoxChange=function(e){var t,c=n.state.categoryCheck;e.target.checked?(c.push(e.target.value),console.log(c)):(t=c.indexOf(e.target.value),c.splice(t,1),console.log(c)),n.setState({categoryCheck:c})},n.submitHandler=function(e){e.preventDefault(),d.a.delete("".concat(u,"/api/v1/menuHasCategory/").concat(n.state.id)).catch((function(e){return console.log(e)})),n.state.categoryCheck.map((function(e){d.a.post("".concat(u,"/api/v1/menuHasCategory"),{menu_id:n.state.id,category_id:e}).catch((function(e){return console.log(e)}))})),d.a.put("".concat(u)+"/api/v1/menu/".concat(n.state.id),{name:n.state.name,description:n.state.description}).then((function(){window.location.href="http://localhost:3000/#/menu"})).catch((function(e){console.log(e)}))};var s=localStorage.getItem("uuid");return""!=s&&void 0!=s||(window.location.href="http://localhost:3000/#/login"),n.state={id:n.props.match.params.id,name:"",description:"",categories:[],categoryCheck:[],isChecked:!0},n}return Object(n.a)(c,[{key:"componentDidMount",value:function(){var e=this;d.a.get("".concat(u,"/api/v1/menuHasCategory")).then((function(t){e.setState({categoryCheck:t.data.data})})).catch((function(e){return console.log(e)})),d.a.get("".concat(u,"/api/v1/menu/").concat(this.state.id)).then((function(t){e.setState({menus:t.data.data}),e.state.menus.map((function(t){e.setState({name:t.name,description:t.description})}))})).catch((function(e){console.log(e)})),d.a.get("".concat(u,"/api/v1/category")).then((function(t){e.setState({categories:t.data.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(o.jsx)(j.f,{children:Object(o.jsx)(j.g,{children:Object(o.jsxs)(j.Z,{activeTab:"home",children:[Object(o.jsxs)(j.J,{variant:"tabs",children:[Object(o.jsx)(j.K,{children:Object(o.jsx)(j.L,{"data-tab":"home",children:"Info"})}),Object(o.jsx)(j.K,{children:Object(o.jsx)(j.L,{"data-tab":"category",children:"categories"})}),Object(o.jsx)(j.K,{})]}),Object(o.jsxs)(j.u,{onSubmit:this.submitHandler,children:[Object(o.jsxs)(j.X,{children:[Object(o.jsxs)(j.Y,{"data-tab":"home",children:[Object(o.jsx)(j.N,{children:Object(o.jsx)(j.k,{className:"md-12 xs-12",children:Object(o.jsxs)(j.v,{children:[Object(o.jsxs)(j.H,{children:["Name ",Object(o.jsx)("span",{className:"text-danger",children:"*"})]}),Object(o.jsx)(j.C,{className:"form-control",placeholder:"Enter Name",value:this.state.name,onChange:function(t){return e.handleChange({name:t.target.value})}})]})})}),Object(o.jsx)(j.N,{children:Object(o.jsx)(j.k,{className:"md-12 xs-12",children:Object(o.jsxs)(j.v,{children:[Object(o.jsx)(j.H,{children:"Description"}),Object(o.jsx)(j.ab,{placeholder:"Enter Description",name:"description",value:this.state.description,onChange:function(t){return e.handleChange({description:t.target.value})}})]})})})]}),Object(o.jsx)(j.Y,{"data-tab":"category",children:Object(o.jsx)(j.N,{children:Object(o.jsxs)(j.k,{className:"md-12 xs-12",children:[Object(o.jsx)(j.v,{children:Object(o.jsx)(j.H,{children:"Categories"})}),Object(o.jsx)(j.v,{children:this.state.categories.map((function(t){return Object(o.jsxs)(j.H,{className:"mr-5",children:[Object(o.jsx)("input",{name:"categoryCheck",className:"mr-2",value:t.id,type:"checkbox",onChange:function(t){return e.handleCheckBoxChange(t)}}),t.name]},t.id)}))})]})})})]}),Object(o.jsx)(j.N,{children:Object(o.jsx)(j.k,{className:"md-12 xs-12",children:Object(o.jsxs)(j.v,{children:[Object(o.jsx)(j.e,{to:"/menu",className:"float-right",children:"Cancel"}),Object(o.jsx)(j.e,{type:"submit",className:"float-right",children:"Save Change"})]})})})]})]})})})}}]),c}(l.a.Component);t.default=m}}]);
//# sourceMappingURL=26.8302239a.chunk.js.map
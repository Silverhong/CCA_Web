(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[13],{621:function(t,e,n){"use strict";e.a="http://localhost:81"},730:function(t,e,n){"use strict";n.r(e);var a=n(159),c=n(160),i=n(162),s=n(161),o=n(20),l=n(1),r=n.n(l),d=n(622),h=n.n(d),u=n(626),b=n.n(u),j=n(628),f=n.n(j),m=n(621),p=n(620),w=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(t){var c;Object(a.a)(this,n),(c=e.call(this,t)).fields=[{key:"id",label:"ID",_style:{width:"10%"}},{key:"title",label:"Product Name",_style:{width:"20%"}},{key:"barcode",label:"Barcode",_style:{width:"10%"}},{key:"thumbnail",label:"Thumbnail",_style:{width:"10%"}},{key:"createdAt",label:"Record Date",_style:{width:"5%"}},{key:"updatedAt",label:"Modify Date",_style:{width:"5%"}},{key:"action",_style:{width:"15%"}}],c.postDelete=function(){h.a.delete("".concat(m.a,"/api/v1/post/").concat(c.state.id)).then((function(){c.setState({show:!1}),window.location.reload()})).catch((function(t){console.log(t)}))},c.hideAlert=function(){c.setState({show:!1})};var i=localStorage.getItem("uuid");return""!=i&&void 0!=i||(window.location.href="".concat(window.origin,"/#/login")),c.state={id:"",posts:[],show:!1},c}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this;h.a.get("".concat(m.a,"/api/v1/post")).then((function(e){t.setState({posts:e.data.data}),console.log(t.state.posts)})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){var t=this;return Object(o.jsxs)(p.f,{children:[Object(o.jsx)(p.j,{children:Object(o.jsx)(p.e,{to:"/post/create",className:"float-right",children:"+ New"})}),Object(o.jsx)(p.g,{children:Object(o.jsx)(p.n,{items:this.state.posts,fields:this.fields,tableFilter:!0,itemsPerPageSelect:!0,itemsPerPage:5,hover:!0,sorter:!0,pagination:!0,scopedSlots:{action:function(e){return Object(o.jsxs)("td",{children:[Object(o.jsx)(p.e,{to:"/post/edit/".concat(e.id),className:"btn btn-secondary mr-2",size:"sm",children:"Edit"}),Object(o.jsx)(p.e,{onClick:function(){return t.setState({show:!0,id:e.id})},className:"btn btn-danger sm",size:"sm",children:"Delete"})]})},thumbnail:function(t){return Object(o.jsx)("td",{children:Object(o.jsx)("a",{href:"".concat(m.a,"/uploads/").concat(t.thumbnail),children:Object(o.jsx)("img",{className:"img-fluid rounded",width:"60%",height:"60%",src:"http://localhost:81/uploads/".concat(t.thumbnail)})})})},createdAt:function(t){return Object(o.jsx)("td",{children:Object(o.jsx)(f.a,{format:"YYYY/MMM/DD",children:t.createdAt})})},updatedAt:function(t){return Object(o.jsx)("td",{children:Object(o.jsx)(f.a,{format:"YYYY/MMM/DD",children:t.updatedAt})})}}})}),Object(o.jsx)(b.a,{show:this.state.show,warning:!0,showCancel:!0,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",title:"Are you sure?",onConfirm:this.postDelete,onCancel:this.hideAlert})]})}}]),n}(r.a.Component);e.default=w}}]);
//# sourceMappingURL=13.62e76759.chunk.js.map
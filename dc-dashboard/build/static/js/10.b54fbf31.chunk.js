(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[10],{621:function(e,t,a){"use strict";t.a="http://localhost:81"},742:function(e,t,a){"use strict";a.r(t);var n=a(164),c=a(159),s=a(160),i=a(162),l=a(161),o=a(20),r=a(1),d=a.n(r),h=a(622),j=a.n(h),m=a(621),u=a(632),p=a(636),b=a.n(p),x=a(620),f={headers:{"content-type":"multipart/form-data",Accept:"*"}},O=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(e)},n.submitHandler=function(e){e.preventDefault();var t=[];if(""!=n.state.file){j.a.delete("".concat(m.a,"/api/v1/delete/file/").concat(n.state.fileName));var a=new FormData;a.append("file",n.state.file),j.a.post("".concat(m.a,"/api/v1/upload"),a,f).then((function(e){n.setState({file:e.data.filename}),t={name:n.state.name,email:n.state.email,phone:n.state.phone,logo:n.state.file,address:n.state.address,description:n.state.description},j.a.put("".concat(m.a)+"/api/v1/company/".concat(n.state.id),t).then((function(){window.location.href="".concat(window.origin,"/#/company")})).catch((function(e){console.log(e)}))})).catch((function(e){return console.log(e)}))}else t={name:n.state.name,email:n.state.email,phone:n.state.phone,address:n.state.address,description:n.state.description},j.a.put("".concat(m.a)+"/api/v1/company/".concat(n.state.id),t).then((function(){window.location.href="".concat(window.origin,"/#/company")})).catch((function(e){console.log(e)}))};var s=localStorage.getItem("uuid");return""!=s&&void 0!=s||(window.location.href="".concat(window.origin,"/#/login")),n.state={id:n.props.match.params.id,handleWYSIWYGInput:e.handleWYSIWYGInput,editor:b.a,name:"",description:"",address:"",file:[],url:"avatars/no_image.png",fileName:"",image:[],email:"",phone:"",company:[]},n}return Object(s.a)(a,[{key:"handleUploadChange",value:function(e){this.setState({file:e.target.files[0],url:URL.createObjectURL(e.target.files[0])})}},{key:"componentDidMount",value:function(){var e=this;j.a.get("".concat(m.a,"/api/v1/company/").concat(this.state.id)).then((function(t){e.setState({company:t.data.data}),e.state.company.map((function(t){e.setState({name:t.name,description:t.description,address:t.address,email:t.email,phone:t.phone,url:"".concat(m.a,"/uploads/").concat(t.logo),fileName:t.logo})}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t=this;return Object(o.jsx)(x.f,{children:Object(o.jsx)(x.g,{children:Object(o.jsxs)(x.u,{onSubmit:this.submitHandler,children:[Object(o.jsxs)(x.N,{children:[Object(o.jsxs)(x.k,{className:"col-md-8 col-xs-8",children:[Object(o.jsx)(x.N,{children:Object(o.jsx)(x.k,{className:"md-12 xs-12",children:Object(o.jsxs)(x.v,{children:[Object(o.jsxs)(x.H,{children:["Name ",Object(o.jsx)("span",{className:"text-danger",children:"*"})]}),Object(o.jsx)(x.C,{className:"form-control",placeholder:"Enter Name",name:"name",value:this.state.name,onChange:function(e){return t.handleChange({name:e.target.value})}})]})})}),Object(o.jsx)(x.N,{children:Object(o.jsx)(x.k,{className:"md-12 xs-12",children:Object(o.jsxs)(x.v,{children:[Object(o.jsx)(x.H,{children:"Email"}),Object(o.jsx)(x.C,{className:"form-control",placeholder:"Enter Name",name:"email",value:this.state.email,onChange:function(e){return t.handleChange({email:e.target.value})}})]})})}),Object(o.jsx)(x.N,{children:Object(o.jsx)(x.k,{className:"md-12 xs-12",children:Object(o.jsxs)(x.v,{children:[Object(o.jsx)(x.H,{children:"Phone "}),Object(o.jsx)(x.C,{className:"form-control",placeholder:"Enter Name",name:"phone",value:this.state.phone,onChange:function(e){return t.handleChange({phone:e.target.value})}})]})})}),Object(o.jsx)(x.N,{children:Object(o.jsx)(x.k,{className:"md-12 xs-12",children:Object(o.jsxs)(x.v,{children:[Object(o.jsx)(x.H,{children:"Address "}),Object(o.jsx)(x.C,{className:"form-control",placeholder:"Enter Name",name:"address",value:this.state.address,onChange:function(e){return t.handleChange({address:e.target.value})}})]})})}),Object(o.jsx)(x.N,{children:Object(o.jsx)(x.k,{className:"md-12 xs-12",children:Object(o.jsxs)(x.v,{children:[Object(o.jsx)(x.H,{children:"Description"}),Object(o.jsx)(u.CKEditor,{editor:b.a,data:this.state.description,onChange:function(e,a){var n=a.getData();t.setState({description:n})}})]})})})]}),Object(o.jsx)(x.k,{className:"col-md-4 col-xs-4 input-group mb-3",children:Object(o.jsxs)(x.f,{children:[Object(o.jsx)(x.g,{children:Object(o.jsx)(x.N,{children:Object(o.jsx)(x.k,{className:"md-12 xs-12",children:Object(o.jsx)(x.v,{children:Object(o.jsx)("img",{src:"".concat(this.state.url),alt:"logo",className:"img-fluid"})})})})}),Object(o.jsx)(x.h,{children:Object(o.jsx)(x.N,{children:Object(o.jsx)(x.k,{className:"md-12 xs-12",children:Object(o.jsx)(x.v,{children:Object(o.jsxs)("div",{className:"input-group mb-3",children:[Object(o.jsx)("div",{className:"input-group-prepend",children:Object(o.jsx)("span",{className:"input-group-text",children:"Upload"})}),Object(o.jsxs)("div",{className:"custom-file",children:[Object(o.jsx)("input",(e={type:"file",className:"custom-file-input",id:"inputGroupFile01"},Object(n.a)(e,"className","custom-file-input"),Object(n.a)(e,"onChange",(function(e){return t.handleUploadChange(e)})),e)),Object(o.jsx)("label",{className:"custom-file-label",for:"inputGroupFile01",children:"Choose file"})]})]})})})})})]})})]}),Object(o.jsx)(x.N,{children:Object(o.jsx)(x.k,{className:"md-12 xs-12",children:Object(o.jsxs)(x.v,{children:[Object(o.jsx)(x.e,{to:"/company",className:"float-right",children:"Cancel"}),Object(o.jsx)(x.e,{type:"submit",className:"float-right",children:"Save Change"})]})})})]})})})}}]),a}(d.a.Component);t.default=O}}]);
//# sourceMappingURL=10.b54fbf31.chunk.js.map